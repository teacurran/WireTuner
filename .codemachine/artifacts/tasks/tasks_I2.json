[
  {
    "task_id": "I2.T1",
    "iteration_id": "I2",
    "iteration_goal": "Implement core event-store services, snapshot engine, GraphQL/OpenAPI contracts, and backend scaffolding required for replay, auto-save, and telemetry.",
    "description": "Implement EventStoreServiceAdapter (SQLite WAL) with CRUD, integrity checks, auto-save batching, and migration harness.",
    "agent_type_hint": "BackendAgent",
    "inputs": "ADR-001, ADR-003, Section 3.2.",
    "target_files": [],
    "input_files": [],
    "deliverables": "Production-ready adapter, unit tests covering create/read/update flows, updated event catalog with finalized columns.",
    "acceptance_criteria": "Tests pass; WAL integrity checks script added; doc cross-links FR-014/FR-015.",
    "dependencies": [
      "I1.T3"
    ],
    "parallelizable": false,
    "done": true
  },
  {
    "task_id": "I2.T2",
    "iteration_id": "I2",
    "iteration_goal": "Implement core event-store services, snapshot engine, GraphQL/OpenAPI contracts, and backend scaffolding required for replay, auto-save, and telemetry.",
    "description": "Author GraphQL schema + resolvers for document summary, settings, artboard CRUD, and presence metadata; include OpenAPI for telemetry ingest.",
    "agent_type_hint": "BackendAgent",
    "inputs": "Section 3.7 (API), Section 5 table.",
    "target_files": [],
    "input_files": [],
    "deliverables": "Valid schema with CI checks, resolver stubs hitting PostgreSQL mocks, telemetry endpoint spec.",
    "acceptance_criteria": "`graphql-schema-lint` passes; sample queries documented; telemetry spec validated via Spectral.",
    "dependencies": [
      "I1.T1",
      "I1.T3"
    ],
    "parallelizable": true,
    "done": true
  },
  {
    "task_id": "I2.T3",
    "iteration_id": "I2",
    "iteration_goal": "Implement core event-store services, snapshot engine, GraphQL/OpenAPI contracts, and backend scaffolding required for replay, auto-save, and telemetry.",
    "description": "Build SnapshotManager (background isolate) with configurable thresholds, memory guard, and compression utilities.",
    "agent_type_hint": "FrontendAgent",
    "inputs": "ADR-004, Section 7.7.",
    "target_files": [],
    "input_files": [],
    "deliverables": "Snapshot service, tests covering thresholds/memory guard, schema updates.",
    "acceptance_criteria": "compute() isolate usage verified; memory guard unit tests; telemetry hooks stubbed; links to FR-026/NFR-PERF-006.",
    "dependencies": [
      "I2.T1"
    ],
    "parallelizable": false,
    "done": false
  },
  {
    "task_id": "I2.T4",
    "iteration_id": "I2",
    "iteration_goal": "Implement core event-store services, snapshot engine, GraphQL/OpenAPI contracts, and backend scaffolding required for replay, auto-save, and telemetry.",
    "description": "Produce interaction sequence diagrams (pen tool, direct selection, save/snapshot, import flow) aligning with new services.",
    "agent_type_hint": "DiagrammingAgent",
    "inputs": "Section 3.7 flows, ADR-001/004, FR references.",
    "target_files": [],
    "input_files": [],
    "deliverables": "Validated PlantUML sequence diagrams, embedded references in docs.",
    "acceptance_criteria": "Diagrams compile; reviewed by Behavior architect; references added to plan manifest.",
    "dependencies": [
      "I1.T2",
      "I2.T1"
    ],
    "parallelizable": true,
    "done": false
  },
  {
    "task_id": "I2.T5",
    "iteration_id": "I2",
    "iteration_goal": "Implement core event-store services, snapshot engine, GraphQL/OpenAPI contracts, and backend scaffolding required for replay, auto-save, and telemetry.",
    "description": "Implement auto-save manager + manual save workflow (debounce, dedup, snapshot hook, status UI plumbing) inside InteractionEngine.",
    "agent_type_hint": "FrontendAgent",
    "inputs": "FR-014, Section 7.12, sequence diagrams.",
    "target_files": [],
    "input_files": [],
    "deliverables": "Auto-save + manual save pipeline, status indicator widget, tests verifying debounce & dedup.",
    "acceptance_criteria": "Auto-save triggers after 200 ms idle; manual save dedup; snapshot hook invoked; UI indicator accessible.",
    "dependencies": [
      "I2.T1",
      "I2.T3"
    ],
    "parallelizable": false,
    "done": false
  },
  {
    "task_id": "I2.T6",
    "iteration_id": "I2",
    "iteration_goal": "Implement core event-store services, snapshot engine, GraphQL/OpenAPI contracts, and backend scaffolding required for replay, auto-save, and telemetry.",
    "description": "Harden telemetry + logging infrastructure (OpenTelemetry exporters, structured log schema, opt-out enforcement) for client and server.",
    "agent_type_hint": "DevOpsAgent",
    "inputs": "Section 3.6 observability, Section 6 metrics catalog.",
    "target_files": [],
    "input_files": [],
    "deliverables": "Telemetry client with opt-out gating, collector service stub, policy doc.",
    "acceptance_criteria": "Telemetry disabled when `telemetryEnabled=false`; collector receives OTLP payload; doc references compliance steps.",
    "dependencies": [
      "I1.T1"
    ],
    "parallelizable": true,
    "done": false
  }
]